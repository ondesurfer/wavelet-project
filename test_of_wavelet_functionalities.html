<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
    "http://www.w3.org/TR/html4/strict.dtd">
<!-- Date: 2016-08-04 -->

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>Test Wavelets</title>
        <meta name="author" content="Andreas">
        <!--Einbinden der Scripte und Bibliotheken-->
        <script src="d3.js"></script>
        <script src="matrixOperations.js"></script>
        <script src="numeric-1.2.6.js"></script>
        <script src="mask.js"></script>
        <script src="math.js"></script>
        <script src="function-plot.js"></script>
        <script src="gauss2.js"></script>
        <script src="pointEvaluation2.js"></script>
        <script src="pointEvaluation.js"></script>
        <script src="math2.js"></script>
        </script>
        
        <style>
            input[type=text] {
                width: 300px;
            }
            input {
                padding: 6px;
            }
            body, html, input {
                font-family: sans-serif;
                font-size: 11pt;

            }
            form {
                margin: 20px 0;
            }
        </style>
    </head>
    <body>
    	
    	 <select id="selection1" size="5"> 
    	 	<option value="BF">Box Function</option> 
    	 	<option value="HF">Hat Function</option> 
    	 	<option value ="QS">Quadratic B-Spline</option> 
    	 	<option value="DG">Daubechies-2N-Generator</option>  
    	 </select>
    	 
    	 <form id="form1">
			<label for="eq1">Enter Derivation Order:</label>
			<input type="text" id="eq1" value="0" />
			<input type="submit" value="Draw" />
		</form>
		
		<form id="form2" visibility="hidden">
			<label for="eq2">Enter Daubechies Number N:</label>
			<input type="text" id="eq2" value="3" />
		</form>
    	
    	<div id="plot"></div>
        
        <script>        
        /**
         * Test of convolution function
         */
        // a = [1, 1, 1];
        // b = [1, 1, 0,0,0, 1,1];
        // console.log(conv(a,b));
        
        /**
         *  Test the BSpline-Generator-function
         */
        // console.log(genBSplineCoeffs(1));
        // console.log(genBSplineCoeffs(2));
        //console.log(genBSplineCoeffs(3)[0]);
        
        /**
         * Test nchoosek
         */
        // console.log(nchoosek(7,4));
        //console.log(nchoosek(1,0));
        
        /**
         * Test polyAdd
         */
        //console.log(polyAdd2([1,0,0],[1,2,0,1]));
        
        /**
         * Test of dual mask generation
         */
        //console.log(genDualBSplineCoeffs(2,2)[0]);
        //console.log(genDualBSplineCoeffs(2,2)[1]);  
        
        /**
         * Test of ak, ak_tilde, bk
         */
        console.log("Hutfunktion");
        var a_start = genBSplineCoeffs(2,2)[1];
        console.log("a_start",a_start);
        var a = genBSplineCoeffs(2)[0];         
        console.log("Skalierungsfkt-Coeff:",a);
        var a_tilde_start = genDualBSplineCoeffs(2,2)[1];
        var a_tilde = genDualBSplineCoeffs(2,2)[0];
        
        //Daubechies
        // console.log("Daubechies");
        // var a_start = 0;
        // var a = [(1 + Math.sqrt(3)) / 4, ((3 + Math.sqrt(3)) / 4), 
				// (3 - Math.sqrt(3)) / 4, (1 - Math.sqrt(3)) / 4];         
        // console.log("Skalierungsfkt-Coeff:",a);
        // var a_tilde_start = 0;
        // var a_tilde = a;
        
        
        // console.log("a_tilde", a_tilde);
        // var b2 = refCoeffstoWaveletCoeffs2(a_tilde, a_tilde_start)[0];
        // var b_start2 = refCoeffstoWaveletCoeffs2(a_tilde, a_tilde_start)[1];
        // console.log("b_simon", b2);
        // console.log("b_start_simon", b_start2);
        
        // var b1 = refCoeffstoWaveletCoeffs(a_tilde, a_tilde_start)[0];
        // var b1_start = refCoeffstoWaveletCoeffs(a_tilde, a_tilde_start)[1];
        // console.log("b_andreas",b1);
        // console.log("b_start_andreas",b1_start);
        // console.log("a_tilde", a_tilde);
         
        /**
         * Test of the wavelet point evaluation function.
         */
        var values = waveletPointEvaluation(a, a_start, a_tilde, a_tilde_start, 5);
        
        console.log(values);
        
        function draw() {
				/*if (!testCoeffs(c, 3)) {
					alert("invalid coefficients");
				} else*/ {
					//try
					 { 
						var plotInstance = functionPlot({
							target : '#plot',
							data : [{
								points : values,
								fnType : 'points',
								graphType : 'polyline',
							}]
						});
					} /*catch (err) {
						console.log(err);
						alert(err);
					}*/
					
					xDomain = plotInstance.options.xDomain;
					//return the wavelet plot as object
					return plotInstance;
				}
		}
		
		var plot = draw();
			
        
        /**
         * Test for x-lattice-generation
         */
        // var step = Math.pow(2, I);
		// var x = new Array(N * step + 1);
		// for(var i = 0; i < x.length; i++){
			// x[i] = i/step;
		// }
		
		// /**
		 // * Test for GUI-element dropwdown-boxes and submit-buttons
		 // */
		// document.getElementById('selection1').onchange = function(event) {
				// event.preventDefault();
				// var value = document.getElementById('selection1').value;
				// var form2 = document.getElementById('form2');
				// console.log(value);
				// if(value == "DG"){
					 // form2.style.visibility = "visible";
				// }
				// else{
					// form2.style.visibility = "hidden";
				// }
		// };
		 		
        </script>

    </body>
</html>

